<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Run NMDS on vegetation data — nmds_ecosite • ecositer</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Run NMDS on vegetation data — nmds_ecosite"><meta property="og:description" content="nmds_ecosite runs an NMDS using the vegan package. NMDS has numerous settings
that can be adjusted, not all of which can be manipulated through the arguments
of this function. This function is intended to be used as a quick way of producing
ordinations. If you are interested in optimizing your NMDS, please do your own
research. At a minimum, you should understand stress and evaluate the stress
report in the results."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ecositer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/intro.html">General Introduction to *ecositer*</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/natearoe/ecositer/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run NMDS on vegetation data</h1>
    <small class="dont-index">Source: <a href="https://github.com/natearoe/ecositer/blob/HEAD/R/nmds_ecosite.R" class="external-link"><code>R/nmds_ecosite.R</code></a></small>
    <div class="hidden name"><code>nmds_ecosite.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>nmds_ecosite</code> runs an NMDS using the vegan package. NMDS has numerous settings
that can be adjusted, not all of which can be manipulated through the arguments
of this function. This function is intended to be used as a quick way of producing
ordinations. If you are interested in optimizing your NMDS, please do your own
research. At a minimum, you should understand stress and evaluate the stress
report in the results.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">nmds_ecosite</span><span class="op">(</span><span class="va">veg_summary</span>, <span class="va">ecosite</span>, <span class="va">pres_abs</span>, <span class="va">nmds_dim</span>, <span class="va">reduce_species</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>veg_summary</dt>
<dd><p>veg_summary object where the <code><a href="veg_summary.html">ecositer::veg_summary()</a></code> function was saved.</p></dd>


<dt>ecosite</dt>
<dd><p>ecosite is the ecosite(s) you want to include in an ordination. If you are
interested in ordinating multiple ecosites together, concatenate the ecosites of interest
(e.g., <code>c("a", "b")</code>)</p></dd>


<dt>pres_abs</dt>
<dd><p>use TRUE to convert data to presence/absence. This is the more
robust option. If you have missing abundance values, presence/absence should be used.
If you have abundance data, use FALSE.</p></dd>


<dt>nmds_dim</dt>
<dd><p>specify the number of dimensions you want in your NMDS. This value
will affect stress considerably.</p></dd>


<dt>reduce_species</dt>
<dd><p><code>NA</code> if you do not want to remove species. A numeric value,
interpretted as percent, specifying the minimum percentage of plots a species
must be present in to remain in the dataset.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>an NMDS object generated using the vegan package</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">formatted_veg</span> <span class="op">&lt;-</span> <span class="fu"><a href="formatted_veg_df.html">formatted_veg_df</a></span><span class="op">(</span>static_location <span class="op">=</span> <span class="st">"C:/Users/Nathan.Roe/Documents/SEKI/CA792_veg.sqlite"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NOTE: some records are missing surface fragment cover</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NOTE: some records are missing surface fragment cover</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>non-standard notation in Munsell value, use getClosestMunsellChip()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mixing dry colors ... [54 of 4844 horizons]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mixing moist colors ... [102 of 5407 horizons]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NOTE: some records are missing rock fragment volume</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NOTE: all records are missing artifact volume</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> replacing missing lower horizon depths with top depth + 1cm ... [59 horizons]</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Horizon top depths contain NA! Check depth logic with aqp::checkHzDepthLogic()</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Horizon bottom depths contain NA! Check depth logic with aqp::checkHzDepthLogic()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> -&gt; QC: sites without pedons: </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Use `get('sites.missing.pedons', envir=get_soilDB_env())` for site record IDs (siteiid)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> -&gt; QC: duplicate pedons: </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Use `get('dup.pedon.ids', envir=get_soilDB_env())` for pedon record IDs (peiid)</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>cannot set `phiid` as unique pedon horizon key - `NA` introduced by fill=TRUE</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> -&gt; QC: pedons missing bottom hz depths:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	Use `get('missing.bottom.depths', envir=get_soilDB_env())` for pedon record IDs (peiid)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining with `by = join_by(siteiid)`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining with `by = join_by(siteiid, vegplotiid)`</span>
<span class="r-in"><span><span class="va">my_veg_summary</span> <span class="op">&lt;-</span> <span class="fu">ecositer</span><span class="fu">::</span><span class="fu"><a href="veg_summary.html">veg_summary</a></span><span class="op">(</span>veg_df <span class="op">=</span> <span class="va">formatted_veg</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">my_nmds</span> <span class="op">&lt;-</span> <span class="fu">ecositer</span><span class="fu">::</span><span class="fu">nmds_ecosite</span><span class="op">(</span>veg_summary <span class="op">=</span> <span class="va">my_veg_summary</span>, ecosite <span class="op">=</span> <span class="st">"F022AK100CA"</span>, pres_abs <span class="op">=</span> <span class="cn">TRUE</span>, nmds_dim <span class="op">=</span> <span class="fl">2</span>, reduce_species <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in veg_df %&gt;% dplyr::group_by(vegplotid, plantsciname) %&gt;% dplyr::summarise(sum(akstratumcoverclasspct)) %&gt;%     dplyr::rename(pctcover = `sum(akstratumcoverclasspct)`):</span> could not find function "%&gt;%"</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Nathan Roe.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

